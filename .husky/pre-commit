#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# Run type checking on staged files
echo "Running type check..."
npx tsc --noEmit || exit 1

# Run linting on staged files
echo "Running lint check..."
npx eslint --max-warnings 0 $(git diff --cached --name-only --diff-filter=ACM | grep -E '\.(ts|tsx)$') || exit 1

echo "Pre-commit checks passed!"
